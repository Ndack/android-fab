extends ../../_shared/page-layout

block page-head
	link(rel = 'stylesheet', href = '/_vendor/bootstrap-daterangepicker/bootstrap-daterangepicker.css')
	link(rel = 'stylesheet', href = '/reports/reports.css')

block page-title-extra
	div#report-range.report-option-btn.pull-right
		i.fa.fa-fw.fa-calendar.title-icon
		span
		i.fa.fa-fw.fa-caret-down

	div#select-accouts.report-option-btn.pull-right(style = 'margin-right: 10px;')
		i.fa.fa-fw.fa-check-square-o.title-icon
		| Showing #[span 0 of 0] account(s)

block page-body

	div.row
		div.col-lg-12.col-md-12.col-sm-12.col-xs-12
			div.dashboard_graph.row
				div.col-xs-12.loading-pane
					p.text-center(style = 'margin: 20px;'): i.fa.fa-fw.fa-hourglass.fa-spin.fa-2x
				div.col-xs-12.error-pane(style = 'display: none;')
					p.text-center(style = 'margin: 20px;'): i.fa.fa-fw.fa-exclamation-triangle.fa-2x.text-danger

				div.col-sm-12.col-md-9.content-pane(style = 'display: none;')
					canvas#history-chart
				div.col-sm-12.col-md-3.content-pane(style = 'display: none;')
					div.row
						div.col-xs-6
							h4 Start
							p: span.start-balance.currency 0.00

						div.col-xs-6
							h4 End
							p: span.end-balance.currency 0.00

					div.row
						div.col-xs-12
							h4.gap Change over Period

					div.row
						div.col-xs-6
							p: span.real-change.currency + 0.00
						div.col-xs-6
							p
								i.fa.fa-caret-up.fa-fw.percent-change-icon
								| &nbsp;
								span.percent-change.currency 0%

					div.row
						div.col-xs-6
							h4.gap Min
							p
								span.min-balance.currency 0.00
								br
								span.text-muted.min-date (date)

						div.col-xs-6
							h4.gap Max
							p
								span.max-balance.currency 0.00
								br
								span.text-muted.max-date (date)

				div.clearfix

	div#accounts-modal.modal.fade(tabindex = -1)
		div.modal-dialog
			div.modal-content
				div.modal-header
					button.close(type = "button", data-dismiss = "modal" aria-label = "Close"): span(aria-hidden = "true") &times;
					h4.modal-title Select Accounts to Show

				div.modal-body
					div.checkbox-set
						for a in accounts
							div.checkbox(style = 'width: 49%; display: inline-block;'): label
								input(type = 'checkbox', value = a.id, checked = true)
								|  #{a.name}

				div.modal-footer
					button#update-btn.btn.btn-primary
						i.fa.fa-fw.fa-check
						|  Update

block page-scripts
	script(src = '/_vendor/moment/moment.min.js')
	script(src = '/_vendor/bootstrap-daterangepicker/bootstrap-daterangepicker.js')
	script(src = '/_vendor/chart/chart.min.js')
	script(src = '/reports/balance-history.js')
